---
published: false
---
# Planet
Planet is San Francisco based company who operates a fleet of small imaging satellites.  Their aim is to provide daily, high-resolution, coverage of the entire globe.  Currently they have x many of their "Dove" satellites which are cubesats, imaging in 4 channels (blue, green, red, and NIR) with a resolution of up to 3m (I think they are trying to get this even lower).  They sell access to their data for most of the globe, but provide free access for data within California via their Open California initiative.

This post is a brief description of how I went about accessing and processing some of their data, mainly following this guide () and this example ().

## Accessing the data
Planet has available a browser based intercative tool that allows you to browse imagery over the globe in both location and time and then (depending on your access level) download the data.  I was more interested in accessing it programmatically via their API so I signed up and got myself an API key!

They provide both command line access to the api, and have Python and java clients.  I'm going to use the Python client for this post. 

The Planet API client is imported into python and a client instance is launched like this:
```python
from planet import api
from planet.api import filters

# will pick up api_key via environment variable PL_API_KEY
# creates a client instance
client = api.ClientV1()
```

The data is accessed querying the API with a spatial, temporal, and product filter.  A long time ago, I worked as a liftie at Kirkwood Mountain Resort, just south of South Lake Tahoe in the Sierra-Nevadas so I figured that'd make a good location to examine.  

The geometry filter requires a geoJSON object, which I generated using [geojson.io](http://geojson.io/#map=2/20.0/0.0) giving me this polygon and code (after some small modifications)
image
```python
aoi = {
  "type": "Polygon",
  "coordinates": [
    [
      [
        -120.07713317871094,
        38.70721396458306
      ],
      [
        -120.09653091430663,
        38.68644773215067
      ],
      [
        -120.06185531616211,
        38.66299474019031
      ],
      [
        -120.03335952758788,
        38.681489740151555
      ],
      [
        -120.051212310791,
        38.703061200438505
      ],
      [
        -120.07713317871094,
        38.70721396458306
      ]
    ]
  ]
}
```
The query filter is constructed by providing the geometry filter, a date range filter, and a `range_filter` which I'm using to specify the cloud cover limits but could also be used to specify [].

```python
# build a query using the AOI,
# a cloud_cover filter, and a date range
query = filters.and_filter(
    filters.geom_filter(aoi),
    filters.range_filter('cloud_cover', lt=0.25),
    filters.date_range('acquired', gt="2016-11-01T00:00:00.000Z",
                         lt='2017-01-01T00:00:00.000Z'),
)
```

The next step is too specify the product you want, the options are:

	PSScene3Band:	PlanetScope Scenes with only RGB bands
	PSScene4Band:	PlanetScope Scenes with all 4 bands
	PSOrthoTile:	PlanetScope OrthoTiles
	REOrthoTile:	RapidEye OrthoTiles
	REScene:	RapidEye Scenes (unorthorectified strips)
	Landsat8L1G:	Landsat8 Scenes
	Sentinel2L1C:	Copernicus Sentinel-2 Scenes


PlanetScope is data from the Planet Lab satellites, Rapid Eye comes from another commercial satellite data provider that Planet Lab acquuired in 2015.  Landsat is the NASA/USGS instrument, and Sentinel-2 is the ESA instrument.  For this post I'm using the PSScene4Band dataset.

```python
request = filters.build_search_request(
    query, item_types=['PSScene4Band']
)
```

You then 


